<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Utsava Sathi ‚Äî Nuakhai Festival Plan</title>

<style>
  :root {
    --bg: #fff8ec;
    --card: #ffffff;
    --text: #3b2f2f;
    --accent: #e96c26;
    --pill: #ffcf91;
  }
  [data-theme="dark"] {
    --bg: #1b1b1b;
    --card: #2a2a2a;
    --text: #ffffff;
    --accent: #ffa64d;
    --pill: #664622;
  }
  body {
    font-family: 'Segoe UI', sans-serif;
    background: var(--bg);
    margin: 0;
    padding: 20px;
    color: var(--text);
    transition: all 0.35s ease;
  }
  .card {
    background: var(--card);
    padding: 18px;
    border-radius: 14px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.08);
    margin-bottom: 22px;
    animation: fadeInUp 0.6s ease;
  }
  @keyframes fadeInUp {
    0% {opacity:0; transform: translateY(12px);}
    100% {opacity:1; transform: translateY(0);}
  }
  .tabs {
    display: flex;
    margin-bottom: 12px;
    gap: 8px;
    overflow-x: auto;
  }
  .tab {
    padding: 10px 14px;
    background: var(--card);
    border-radius: 20px;
    cursor: pointer;
    font-size: 14px;
    border: 2px solid transparent;
    white-space: nowrap;
  }
  .tab.active {
    border-color: var(--accent);
    font-weight: 700;
  }
  .pill {
    display:inline-block;
    background: var(--pill);
    color: var(--text);
    padding: 5px 12px;
    border-radius: 20px;
    margin: 4px;
    font-size: 13px;
  }
  .toggle-btn {
    position: fixed;
    top: 12px;
    right: 12px;
    cursor: pointer;
    background: var(--accent);
    padding: 8px 14px;
    border-radius: 8px;
    font-size: 13px;
    color: #fff;
    border: none;
  }
  .share-btn {
    background: var(--accent);
    border: none;
    padding: 6px 10px;
    border-radius: 6px;
    color:#fff;
    cursor:pointer;
    font-size:12px;
    margin-top:6px;
  }
  .footer {
    text-align:center;
    margin-top:30px;
    font-size:12px;
    opacity:0.6;
  }
</style>
</head>

<body>

<button class="toggle-btn" onclick="toggleTheme()">üåó Theme</button>

<h1 id="festival-name"></h1>
<p id="festival-local"></p>

<div class="tabs">
  <div class="tab active" onclick="openTab('overview')">Overview</div>
  <div class="tab" onclick="openTab('prep')">Pre Festival</div>
  <div class="tab" onclick="openTab('day')">Festival Day</div>
  <div class="tab" onclick="openTab('share')">Shareables</div>
</div>

<div id="content"></div>

<div class="footer">
  Created with ‚ù§Ô∏è by Utsava Sathi
</div>

<script>
// üëâ Your full Nuakhai JSON embedded here
const festivalPlan = JSON.parse(`
{
    "festival_overview": {
        "name": "Nuakhai",
        "local_name": "Nuakhai Parab / Nuakhai Bhetghat",
        "why_celebrated": "It is celebrated to welcome the new rice of the season and express gratitude to nature and deities for a bountiful harvest. Nuakhai also signifies a new beginning, fostering community harmony and strengthening family bonds.",
        "short_story": "Nuakhai, meaning 'new food', symbolizes the consumption of the season's first harvest, primarily rice. Its origins trace back to ancient agrarian practices and Vedic rituals, with historical evidence suggesting its formalization around the 14th century by Chauhan King Ramai Deo to promote agriculture. The festival is deeply rooted in the culture of western Odisha, honoring the symbiotic relationship between humans, nature, and the divine.",
        "themes": [
            "Harvest",
            "Gratitude",
            "Family",
            "Community",
            "Renewal",
            "Agriculture"
        ],
        "symbolism": [
            "New rice (Nabanna)",
            "Goddess Samaleswari (and other local deities)",
            "Elders' blessings",
            "Traditional sweets (Pitha)",
            "New clothes",
            "Exchange of greetings (Juhar)"
        ],
        "key_values": [
            "Gratitude",
            "Unity",
            "Respect for elders",
            "Community bonding",
            "Tradition",
            "Harmony"
        ],
        "family_roles": {
            "elders": "Receive greetings and offer blessings for long life, happiness, and prosperity.",
            "parents": "Lead the family rituals, offer prayers, and distribute the new harvest to family members.",
            "children": "Participate in rituals, seek blessings from elders, and share in family meals."
        },
        "odisha_flavour": "Nuakhai is a major festival in Western Odisha, with celebrations marked by offering the first harvest (Nabanna) to presiding deities like Goddess Samaleswari. Families share feasts, and the 'Nuakhai Juhar' ritual of exchanging greetings and seeking blessings from elders is central to the celebrations. In Bhubaneswar, cultural events and gatherings are organized to celebrate the festival.",
        "greetings": [
            "Nuakhai Juhar!",
            "Happy Nuakhai!",
            "Samasta ku nuakhai ra hardika abhinandana (Hearty greetings of Nuakhai to all)!"
        ]
    },
    "pre_festival": {
        "ritual_preparation_steps": [
            "Beheren: Announce the meeting to set the Nuakhai date.",
            "Lagna dekha: Fix the exact auspicious time for partaking of the new rice.",
            "Daka haka: Send out invitations to family and friends.",
            "Sapha sutura and lipa puchha: Clean and decorate the house and surroundings.",
            "Ghina bika: Purchase necessary items for the festival.",
            "Nua dhan khuja: Select and gather the new harvest (paddy).",
            "Bali paka: Prepare Prasad from the new harvest to offer to the deity.",
            "Nuakhai: Offer the Prasad to the deity, then partake in the new rice with family.",
            "Juhar bhet: Exchange greetings and seek blessings from elders."
        ],
        "puja_items_checklist": [
            "New paddy harvested",
            "Milk",
            "Flowers (marigold, jasmine)",
            "Ghee",
            "Incense sticks (agarbatti)",
            "Camphor",
            "Sandalwood paste (chandan)",
            "Kumkum (vermilion)",
            "Rice (uncooked)",
            "Betel leaves (paan)",
            "Coconut",
            "Fruits (five types)",
            "Banana",
            "Cotton wicks",
            "Holy water (Gangajal)",
            "Red cloth",
            "Clay pots",
            "Bamboo baskets",
            "Aluminium foil roll",
            "Murti or photo of the presiding deity (e.g., Goddess Lakshmi or village deity)"
        ],
        "food_preparation": [
            "Arisa Pitha (a sweet rice cake, deep-fried)",
            "Manda Pitha (steamed rice dumplings with sweet stuffing)",
            "Ghanta Tarkari (a mixed vegetable curry with pumpkin, potatoes, beans, etc.)",
            "Ambila (a sweet and sour curry with seasonal vegetables and tamarind)",
            "Saru Saga (a leafy green dish, often with pumpkin leaves)",
            "Muga Rasabara (fried moong dal balls soaked in syrup)",
            "Kheeri (rice pudding made with new rice and milk)",
            "Chaula Manda Pitha (steamed rice flour dumplings with coconut-jaggery stuffing)",
            "Letha/Ambila (a traditional Odiya cuisine made with curd and vegetables)"
        ],
        "popular_places_to_visit": [
            {"place":"Nandankanan Zoological Park","suggestion":"A great place for families"},
            {"place":"Regional Science Centre","suggestion":"Interactive exhibits for kids"},
            {"place":"Lingaraj Temple","suggestion":"Heritage landmark visit"},
            {"place":"Chilika Lake","suggestion":"Nature and boating for families"}
        ],
        "schedule": {
            "T-7_days": ["Finalize menu","Purchase items"],
            "T-3_days": ["Clean house","Prep sweets"],
            "T-1_day": ["Cook dishes","Set puja area"]
        },
        "guest_or_travel_plan": {
            "is_travel_suggested": true,
            "note": "Many travel home to celebrate with family."
        }
    },
    "festival_day": {
        "early_morning": [
            "Morning bath and prayers",
            "Prepare offerings with first harvest"
        ],
        "morning": [
            "Offer to deity",
            "Nuakhai Juhar greetings"
        ],
        "mid_day": [
            "Grand feast",
            "Community gatherings"
        ],
        "evening": [
            "Folk dances and music",
            "Socializing and bonding"
        ],
        "family_friendly_tips": [
            "Engage kids with sweets and folklore"
        ]
    },
    "shareables": {
        "puja_items_text": "‚ú® Nuakhai Puja Essentials ‚ú®",
        "tasks_text": "üìã Nuakhai To-Do List üìã"
    },
    "metadata": {
        "generated_at": "2024-07-28T12:00:00Z",
        "location_context": "Bhubaneswar, Odisha, India",
        "agent_version": "multi_agent_v1",
        "language": "en"
    }
}
`);

function loadFestival() {
  document.getElementById("festival-name").innerText =
    festivalPlan.festival_overview.name;
  document.getElementById("festival-local").innerText =
    festivalPlan.festival_overview.local_name;
  openTab('overview');
}

function openTab(tab) {
  let c = document.getElementById("content");
  document.querySelectorAll(".tab").forEach(t => t.classList.remove("active"));
  document.querySelector(`.tab[onclick="openTab('${tab}')"]`)
    .classList.add("active");

  if (tab === "overview") renderOverview(c);
  if (tab === "prep") renderPrep(c);
  if (tab === "day") renderDay(c);
  if (tab === "share") renderShare(c);
}

function renderOverview(c) {
  const d = festivalPlan.festival_overview;
  c.innerHTML = `
  <div class='card'>
    <strong>Why Celebrated</strong><br>${d.why_celebrated}<br><br>
    <details><summary><strong>Origin Story</strong></summary>
      <p>${d.short_story}</p>
    </details><br>
    <strong>Themes</strong><br>
    ${d.themes.map(t=>`<span class='pill'>${t}</span>`).join("")}<br><br>
    <strong>Symbolism</strong><ul>
    ${d.symbolism.map(s=>`<li>${s}</li>`).join("")}</ul>
  </div>`;
}

function renderPrep(c) {
  const d = festivalPlan.pre_festival;
  c.innerHTML = `
  <div class="card"><strong>Preparation Steps</strong><ul>
    ${d.ritual_preparation_steps.map(s=>`<li>${s}</li>`).join("")}</ul></div>
  <div class="card"><strong>Puja Checklist</strong>
    ${d.puja_items_checklist.map(s=>`<span class='pill'>${s}</span>`).join("")}</div>
  `;
}

function renderDay(c) {
  const d = festivalPlan.festival_day;
  const blocks = [
    ["üåÖ Early Morning", d.early_morning],
    ["üåû Morning", d.morning],
    ["üå§ Mid Day", d.mid_day],
    ["üåô Evening", d.evening]
  ];
  c.innerHTML = blocks.map(b => `
    <div class='card'><h3>${b[0]}</h3><ul>
      ${b[1].map(s=>`<li>${s}</li>`).join("")}
    </ul></div>`).join("");
}

function renderShare(c) {
  const d = festivalPlan.shareables;
  c.innerHTML = `
  <div class="card">
    <textarea id="pujaText" style="width:100%" rows="5">${d.puja_items_text}</textarea>
    <button class="share-btn" onclick="copyText('pujaText')">Copy Puja Items</button>
    <button class="share-btn" onclick="shareWA('pujaText')">WhatsApp</button>
  </div>
  <div class="card">
    <textarea id="taskText" style="width:100%" rows="5">${d.tasks_text}</textarea>
    <button class="share-btn" onclick="copyText('taskText')">Copy Tasks</button>
    <button class="share-btn" onclick="shareWA('taskText')">WhatsApp</button>
  </div>
  `;
}

function copyText(id){
  navigator.clipboard.writeText(document.getElementById(id).value);
  alert("Copied!");
}
function shareWA(id){
  const msg = encodeURIComponent(document.getElementById(id).value);
  window.open(`https://wa.me/?text=${msg}`, "_blank");
}
function toggleTheme(){
  const root = document.documentElement;
  root.dataset.theme = root.dataset.theme === "dark" ? "light" : "dark";
}

loadFestival();
</script>

</body>
</html>
